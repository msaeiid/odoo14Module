<template>


    <t t-inherit="documents.inspector.attachmentHistory" t-inherit-mode="extension">
        <xpath expr="." position="replace">
            <t t-name="documents.inspector.attachmentHistory">
                <t t-foreach="attachments" t-as="attachment">
                    <div class="o_inspector_history_line">
                        <t t-set="createDate" t-value="str_to_datetime(attachment.create_date)"/>
                        <t t-set="fullDate" t-value="createDate.toLocaleString()"/>
                        <t t-set="date" t-value="createDate.toLocaleDateString()"/>
                        <t t-set="createUserName" t-value="attachment.create_uid[1]"/>
                        <div class="o_inspector_history_title">
                            <span class="o_inspector_history_name" t-att-aria-label="name" t-att-title="name"
                                  t-esc="name"/>
                            <span class="o_inspector_history_info">
                                <span class="o_inspector_history_create_name" t-att-aria-label="createUserName"
                                      t-att-title="createUserName" t-esc="createUserName"/>
                                <i class="o_inspector_history_info_separator">-</i>
                                <span class="o_inspector_history_info_date" t-att-aria-label="fullDate"
                                      t-att-title="fullDate" t-esc="date"/>
                            </span>
                        </div>
                        <div class="o_inspector_history_buttons">
                            <button aria-label="delete" title="delete"
                                    class="o_inspector_history_button btn fa fa-trash text-white fa-pull-right o_inspector_history_item_delete"
                                    t-att-data-id="id"/>
                            <button aria-label="download" title="download"
                                    class="o_inspector_history_button btn fa fa-download text-white fa-pull-right o_inspector_history_item_download"
                                    t-att-data-id="id"/>
                            <button aria-label="restore" title="restore"
                                    class="o_inspector_history_button btn fa fa-retweet text-white fa-pull-right o_inspector_history_item_restore"
                                    t-att-data-id="id"/>
                        </div>
                    </div>
                </t>
            </t>
        </xpath>
    </t>


    <t t-inherit="documents.DocumentsInspector.buttons" t-inherit-mode="extension">
        <xpath expr="." position="replace">
            <div class="mb-3">
                <div class="btn-group">
                    <button class="btn fa fa-download o_inspector_button o_inspector_download" title="Download"/>
                    <t t-if="widget.records[0].data.active">
                        <button t-if="widget.currentFolder"
                                class="btn fa fa-share-alt o_inspector_button o_inspector_share"
                                title="Share this selection" groups="documents.group_documents_user"/>
                        <t t-if="nbPreviews === 1">
                            <button t-if="widget.records[0].data.type !== 'url'"
                                    class="btn fa fa-retweet o_inspector_button o_inspector_replace" title="Replace"/>
                            <button t-att-class="'btn fa o_inspector_button o_inspector_lock' + (widget.records[0].data.lock_uid ? ' o_locked fa-lock' : ' fa-unlock-alt')"
                                    title="Lock"/>
                        </t>
                        <t t-if="widget.isPdfOnly">
                            <button class="btn fa fa-scissors o_inspector_button o_inspector_split" aria-label="Split"
                                    title="Split"/>
                        </t>
                    </t>
                </div>

                <button t-if="widget.records[0].data.active"
                        class="o_active btn fa fa-archive o_inspector_button o_inspector_archive pull-right"
                        title="Archive"/>
                <t t-else="">
                    <button class="btn pull-right o_inspector_button o_inspector_delete" title="Delete"><i
                            class="fa fa-trash"/></button>
                    <button class="btn pull-right o_inspector_button o_archived o_inspector_archive"
                            style="margin-right:4px" title="Un-archive"><i class="fa fa-upload"/></button>
                </t>
            </div>
        </xpath>
    </t>

</template>